package com.lwan.eaproj.util;

import java.security.InvalidParameterException;
import java.sql.ResultSet;
import java.sql.SQLException;

import com.lwan.eaproj.sp.PA_PKC_new_id;
import com.lwan.jdbc.GConnection;
import com.lwan.jdbc.StoredProc;

public class DbUtil {
	
	private static StoredProc idProc;
	public static int getNextID(String fieldName) {
		if (idProc == null) {
			idProc = new PA_PKC_new_id();
		}
		idProc.getParamByName("@pkc_name").set(fieldName);
		try {
			idProc.execute(GConnection.getConnection());

			ResultSet rs = idProc.getResult();
			if (rs.next()) {
				
			} else {
				throw new InvalidParameterException("fieldName dosen't exist in PKC_primary_key_counter");
			}
		
		} catch (SQLException e) {
			e.printStackTrace();
		}		
		
		return 0;
	}
}
